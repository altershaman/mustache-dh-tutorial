# Вложенные контексты -- особый случай
Позитивные mustaches, если не находят указанный ключ, пытаются найти такой же ключ в !!!БОЛЕЕ ШИРОКОМ КОНТЕКСТЕ.





###### Интерполяция 1
---

**Наименование объекта:**

{{#objA}}
{{title}}

###### Sections:
{{#has}}
* {{title}}
{{/has}}
{{/objA}}

---
### Задание

  * Откройте для редактирования файл mustache/presentations.yaml
  * Найдите участок кода, отвечающий за формирование данной презентации
    ```yaml

    entities:
      noname:
        presentations:

    ...
      nested_contexts_special:
        type: markdown
        template: templates/nested_contexts_special.md
        source: > # код презентации
          ( 
                {"objA": {
                  "title": "Object A",
                  "has": [
                    {"title": "Section 1"},
                    {"title": "Section 2"}
                  ]
                 }
                }
          )
    ```
  * Интерполяция происходит как ожидается
  * Переименуйте атрибут `objA.has.title` одной из секций - наименование подменилось значением `title` контекста "objA"

  * для предотвращения такого поведения следует проверять наличие необходимых атрибутов на уровне кода презентации, либо разделять контексты

###### Интерполяция 2
---

**Наименование объекта:**

{{#objA}}
{{title}}
{{/objA}}
###### Sections:

{{#objA.has}}
* {{#.}}{{#title}}{{.}}{{/title}}{{^title}}untitled{{/title}}{{/.}}
 
{{/objA.has}}


### Take away
1. Если атрибут используется в качестве контекста mustache, необходимо обрабатывать наличие атрибута в каждом объекте

